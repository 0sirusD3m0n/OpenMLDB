cases:
  - id: 0
    desc: Where条件命中索引
    tags: ["@chendihao, offline should support where"]
    mode: request-unsupport, offline-unsupport
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col2=5;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col2:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    batch_plan: |
      SIMPLE_PROJECT(sources=([0]<-[0:0], [1]<-[0:1], [2]<-[0:2], [3]<-[0:3], [4]<-[0:4], [5]<-[0:5], [6]<-[0:6])
        FILTER_BY(condition=, left_keys=(), right_keys=(), index_keys=(5))
          DATA_PROVIDER(type=Partition, table=auto_t0, index=index1)
    expect:
      schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
      order: col1
      data: |
        0, 1, 5, 1.1, 11.1, 1, 1
        0, 2, 5, 2.2, 22.2, 2, 22
  - id: 1
    desc: Where部分条件命中索引
    mode: request-unsupport, offline-unsupport
    tags: ["@chendihao, offline should support where"]
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col2=55 and col1 > 3;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col2:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    batch_plan: |
      SIMPLE_PROJECT(sources=([0]<-[0:0], [1]<-[0:1], [2]<-[0:2], [3]<-[0:3], [4]<-[0:4], [5]<-[0:5], [6]<-[0:6])
        FILTER_BY(condition=col1 > 3, left_keys=(), right_keys=(), index_keys=(55))
          DATA_PROVIDER(type=Partition, table=auto_t0, index=index1)
    expect:
      schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
      order: col1
      data: |
        1, 4, 55, 4.4, 44.4, 2, 4444
        2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
  - id: 2-1
    desc: Where条件未命中索引
    mode: request-unsupport, offline-unsupport
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col2=55 and col1 > 1;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col6:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    expect:
      success: false
  - id: 2-2
    desc: Where条件未命中索引-离线支持
    mode: request-unsupport
    tags: ["TODO", "@chendihao,离线支持where"]
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col2=5 and col1 < 2;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col6:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    expect:
      schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
      order: col1
      data: |
        1, 4, 55, 4.4, 44.4, 2, 4444
        2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
  - id: 3-1
    desc: Where条件未命中索引示例2
    mode: request-unsupport, offline-unsupport
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col2=col3 and col1 < 2;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col2:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    expect:
      success: false
  - id: 3-2
    desc: Where条件未命中索引示例2
    mode: request-unsupport, offline-unsupport
    tags: ["TODO", "@chendihao,离线支持where语法"]
    db: db1
    sql: |
      SELECT col0, col1, col2, col3, col4, col5, col6 FROM {0} where col1=col5 and col1 > 1;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col2:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    expect:
      schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
      order: col1
      data: |
        0, 2, 5, 2.2, 22.2, 2, 22
        1, 3, 55, 3.3, 33.3, 1, 333
  - id: 4
    desc: Where条件命中索引,索引穿透简单子查询
    tags: ["@chendihao, offline should support where"]
    mode: request-unsupport, offline-unsupport
    db: db1
    sql: |
      SELECT c0, c1, c2, c3, c4, c5, c6, c1+c4 as c14 FROM
      (select col0 as c0, col1 as c1, col2 as c2, 0.0f as c3, col4 as c4, col5 as c5, "empty_str" as c6 from {0}) as t1 where t1.c2=5;
    inputs:
      - schema: col0:string, col1:int32, col2:int16, col3:float, col4:double, col5:int64, col6:string
        index: index1:col2:col5
        data: |
          0, 1, 5, 1.1, 11.1, 1, 1
          0, 2, 5, 2.2, 22.2, 2, 22
          1, 3, 55, 3.3, 33.3, 1, 333
          1, 4, 55, 4.4, 44.4, 2, 4444
          2, 5, 55, 5.5, 55.5, 3, aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    batch_plan: |
      PROJECT(type=TableProject)
        FILTER_BY(condition=, left_keys=(), right_keys=(), index_keys=(5))
          SIMPLE_PROJECT(sources=([0]<-[0:0], [1]<-[0:1], [2]<-[0:2], [3]<-0.000000, [4]<-[0:4], [5]<-[0:5], [6]<-empty_str)
            DATA_PROVIDER(type=Partition, table=auto_t0, index=index1)
    expect:
      schema: c0:string, c1:int32, c2:int16, c3:float, c4:double, c5:int64, c6:string, c14:double
      order: c1
      data: |
        0, 1, 5, 0.0, 11.1, 1, empty_str, 12.1
        0, 2, 5, 0.0, 22.2, 2, empty_str, 24.2