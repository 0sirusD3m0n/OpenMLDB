# 批量执行

## 单行特征

### 对原表进行单行特征抽取
1. 全局扫描原表（实际上，也是按照某个Pk进行扫描）
2. 迭代计算每一行的特征

### 对中间表进行单行特征抽取

TODO


## 窗口聚类
FeSQL支持批量计算特征，为了提高执行效率，采用滑动窗口作为基础窗口，进行窗口聚类。

### 对原表进行窗口聚类
1. 根据窗口的partition对原表进行扫描。
2. 逆向遍历原表记录，对每一行记录进行滑窗处理，并计算窗口聚类特征

### 优势

FeSQL中原始数据按partition组织索引，因此可以快速进行分片数据遍历。滑窗过程中也可以利用这一特征，加速滑窗逻辑。
